(()=>{"use strict";const e=({timing:e,draw:t,duration:o},n)=>{let r=performance.now();requestAnimationFrame((function n(a){let c=(a-r)/o;c>1&&(c=1);let l=e(c);t(l),c<1&&requestAnimationFrame(n)}))},t=e=>{const t=document.getElementById(e),o=t.querySelectorAll("input[name='user_name']"),n=t.querySelectorAll("input[name='user_email']"),r=t.querySelectorAll("input[name='user_phone']"),a=t.querySelectorAll("input[name='user_message']");let c=!0,l=[];return o.forEach((e=>{/[\W\-\s]+/gi.test(e.value)||""===e.value||(l.push("Ошибка: Неккоректное имя"),e.value="",c=!1)})),n.forEach((e=>{e.value.match(/[a-z\-\_\.\!\~\*]+[@][a-z\-\_\!\~\*]+[\.][a-z\-\_\!\~\*]+/gi)||""===e.value||(l.push("Ошибка: Неккоретный почтовый ящик"),e.value="",c=!1)})),r.forEach((e=>{e.value.match(/[\d-\(\)]+/gi)||""===e.value||(l.push("Ошибка: Неккоретный номер телефона"),e.value="",c=!1)})),a.forEach((e=>{e.value.match(/[а-я\s0-9\.\,\!\?]+/gi)||""===e.value||(l.push("Ошибка: Неккоретное сообщение"),e.value="",c=!1)})),{response:c,message:l}},o=({formId:o,someElem:n=[]})=>{const r=document.getElementById(o),a=document.createElement("div"),c=document.createElement("img");try{if(!r)throw new Error("Верните форму на место, пожалуйста");r.addEventListener("submit",(l=>{l.preventDefault(),c.src="./images/icons8-preloader-40.png",c.id="preloader",c.style.opacity="0",a.style.color="white",r.append(c),r.append(a),(()=>{const l=r.querySelectorAll("input"),s=new FormData(r),i={};a.textContent="",a.style.opacity="1",c.style.opacity="1",e({duration:500,timing:e=>1-Math.sin(Math.acos(e)),draw(e){c.style.transform=`rotate(${parseInt(360*e)}deg)`}}),s.forEach(((e,t)=>{i[t]=e})),n.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?i[e.id]=t.textContent:"input"===e.type&&(i[e.id]=t.value)}));const{response:u,message:d}=t(o);var m;u?(m=i,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(m),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((t=>{c.style.opacity="0",a.textContent="Спасибо! Наш менеджер с Вами свяжется!",e({duration:5e3,timing:e=>e,draw(e){a.style.opacity=1-e}}),l.forEach((e=>{e.value=""}))})).catch((t=>{c.style.opacity="0",a.textContent=d.join(". "),e({duration:5e3,timing:e=>e,draw(e){a.style.opacity=1-e}})})):(c.style.opacity="0",a.textContent=d.join(". "),e({duration:5e3,timing:e=>e,draw(e){a.style.opacity=1-e}}))})()}))}catch(e){console.log(e)}};alert("lol"),(e=>{const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");let r=0;r=setInterval((()=>{const a=(()=>{const t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:Math.floor(t/3600/24),hours:Math.floor(t/3600%60)%24,minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})(),c=(()=>{let e=document.querySelector("#timer-days");return e||(e=document.createElement("span"),e.id="timer-days",t.before(e),e.after(document.createElement("span").textContent=" : ")),e})();c.textContent=a.days.toString().length<2?`0${a.days}`:a.days,t.textContent=a.hours.toString().length<2?`0${a.hours}`:a.hours,o.textContent=a.minutes.toString().length<2?`0${a.minutes}`:a.minutes,n.textContent=a.seconds.toString().length<2?`0${a.seconds}`:a.seconds,a.timeRemaining<0&&(clearInterval(r),c.textContent="00",t.textContent="00",o.textContent="00",n.textContent="00")}),1e3)})("20 september 2022"),(()=>{const e=document.querySelector("menu"),t=document.querySelector('a[href="#service-block"]'),o=(e,t)=>{t.preventDefault();const o=e.hash;document.querySelector(`${o}`).scrollIntoView({block:"start",behavior:"smooth"})};document.body.addEventListener("click",(t=>{(t=>{t.target.closest(".menu")?e.classList.toggle("active-menu"):t.target.classList.contains("close-btn")||!t.target.closest("menu")?(t.preventDefault(),e.classList.remove("active-menu")):t.target.matches(".active-menu ul li a")&&(t.preventDefault(),e.classList.toggle("active-menu"),o(t.target,t))})(t)})),t.addEventListener("click",(e=>o(t,e)))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup"),n=o.querySelector(".popup-close"),r=o.querySelector(".popup-content");t.forEach((t=>{t.addEventListener("click",(()=>{o.style.display="block",screen.width>=768&&e({duration:2e3,timing:e=>e,draw(e){r.style.opacity=e}})}))})),n.addEventListener("click",(()=>{o.style.display="none"}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const n=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===n?(e.classList.add("active"),o[t].classList.remove("d-none")):(e.classList.remove("active"),o[t].classList.add("d-none"))}))}}))})(),(e=>{try{let t=!1;e.forEach((e=>{for(let o=0;o<document.styleSheets.length;o++){const n=document.styleSheets[o];for(let o=0;o<n.rules.length;o++){const r=n.rules[o];if(r.selectorText&&r.selectorText.includes(`.${e}`))return void(t=!0)}}if(!1===t)throw new SyntaxError("Error")}))}catch(e){return}const[t,o,n,r,a]=e,c=document.querySelector(`.${t}`),l=document.querySelectorAll(`.${o}`);let s=document.querySelectorAll(`.${n}`);const i=document.querySelector(`.${t}`);let u,d=0;const m=(e,t,o)=>{e[t].classList.remove(o)},y=(e,t,o)=>{e[t].classList.add(o)},p=()=>{m(l,d,r),m(s,d,a),d++,d>=l.length&&(d=0),y(l,d,r),y(s,d,a)},h=(e=1500)=>{u=setInterval(p,e)};c.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(m(l,d,r),m(s,d,a),e.target.matches("#arrow-right")?d++:e.target.matches("#arrow-left")?d--:e.target.classList.contains("dot")&&s.forEach(((t,o)=>{e.target!==t||(d=o)})),d>=l.length&&(d=0),d<0&&(d=l.length-1),y(l,d,r),y(s,d,a))})),c.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(u)}),!0),c.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&h(2e3)}),!0),(()=>{const e=document.createElement("ul");e.classList.add("portfolio-dots"),l.forEach(((t,o)=>{const n=document.createElement("li");n.classList.add("dot"),0===o&&n.classList.add(a),e.insertAdjacentElement("beforeend",n)})),i.insertAdjacentElement("beforeend",e),s=document.querySelectorAll(`.${n}`)})(),h(2e3)})(["portfolio-content","portfolio-item","dot","portfolio-item-active","dot-active"]),t("form1"),document.querySelector(".calc-block").addEventListener("change",(e=>{var t;e.target.classList.contains("calc-item")&&((t=e.target).value.match(/\d/gi)||(alert("Введите цифры"),t.value=""))})),((t=100)=>{const o=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),l=document.getElementById("total");o.addEventListener("input",(o=>{o.target!==n&&o.target!==r&&o.target!==a&&o.target!==c||(()=>{const o=+n.options[n.selectedIndex].value,s=r.value;let i=0,u=1,d=1;a.value>1&&(u+=+a.value/10),c.value&&c.value<5?d=2:c.value&&c.value<10&&(d=1.5),i=t*o*s?t*o*s*u*d:0,e({duration:500,timing:e=>1-Math.sin(Math.acos(e)),draw(e){l.textContent=parseInt(e*+i)}})})()}))})(100),o({formId:"form1",someElem:[{type:"block",id:"total"}]}),o({formId:"form2",someElem:[{type:"block",id:"total"}]}),o({formId:"form3",someElem:[{type:"block",id:"total"}]})})();